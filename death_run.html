<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Google.com</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/amazing6ox/okimfine@main/TemplateData/style.css" />

<style>
    body {
        overflow: hidden;
        margin: 0;
        padding: 0;
    }
    #gameContainer {
        width: 100vw;
        height: 100vh;
        background: black;
    }

    #ad-container {
        position: fixed;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: min(738px, calc(100% - 20px));
        height: 95px;
        background: rgba(0,0,0,0.90);
        display: none;
        z-index: 99999;
        border-radius: 0 0 8px 8px;
        overflow: hidden;
        box-shadow: 0 2px 12px rgba(0,0,0,0.45);
        box-sizing: border-box;
    }

    #ad-iframe {
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 1200px;
        height: 100%;
        border: 0;
        display: block;
        overflow: hidden;
        pointer-events: auto;
    }

    #ad-iframe::-webkit-scrollbar {
        display: none;
        width: 0;
        height: 0;
    }

    #ad-right-mask {
        position: absolute;
        top: 0;
        right: 0;
        width: 12px;
        height: 100%;
        pointer-events: none;
        background: linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,0.9));
        z-index: 99999;
    }

    #close-ad {
        display: none;
    }
</style>

<script src="https://cdn.jsdelivr.net/gh/amazing6ox/okimfine@main/TemplateData/UnityProgress.js"></script>
<script src="https://cdn.jsdelivr.net/gh/amazing6ox/okimfine@main/Build/UnityLoader.js"></script>

<script>
    var gameInstance = UnityLoader.instantiate("gameContainer", "https://cdn.jsdelivr.net/gh/amazing6ox/okimfine@main/Build/death_run_wasm_v1.json", {
        onProgress: UnityProgress,
        Module: {
            onRuntimeInitialized: function () {
                UnityProgress(gameInstance, "complete");
            },
        },
    });
</script>

<script src="https://cdn.jsdelivr.net/gh/amazing6ox/okimfine@main/api.js"></script>

</head>

<body>

<div id="gameContainer"></div>

<script>
(function(){
    const showDelay = 2000;
    const countdownStart = 5;

    const adContainer = document.getElementById('ad-container');
    const closeBtn = document.getElementById('close-ad');

    setTimeout(() => {
        adContainer.style.display = 'block';
        adContainer.setAttribute('aria-hidden','false');

        if (closeBtn) {
            let timeLeft = countdownStart;
            closeBtn.textContent = `Kapat (${timeLeft})`;

            const t = setInterval(() => {
                timeLeft--;
                if (timeLeft > 0) {
                    closeBtn.textContent = `Kapat (${timeLeft})`;
                } else {
                    clearInterval(t);
                    closeBtn.disabled = false;
                    closeBtn.classList.add('enabled');
                    closeBtn.textContent = 'Kapat (X)';
                }
            }, 1000);

            closeBtn.addEventListener('click', () => {
                if (closeBtn.disabled) return;
                adContainer.remove();
            });
        }

    }, showDelay);
})();
</script>

</body>
</html>
